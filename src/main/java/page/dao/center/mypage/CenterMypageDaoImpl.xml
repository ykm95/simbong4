<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DOCTYPE -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="page.dao.center.mypage.CenterMypageDao">

	<select id="selectCnt" parameterType="page.dto.Center"
	 resultType="int">
	 	SELECT count(*) FROM centertb
	 	WHERE businessno = #{businessno }
	 	AND cpassword = #{cpassword }
	 </select>
	 
	 <select id="selectInformationByBusinessno" parameterType="page.dto.Center"
	  resultType="page.dto.Center">
	  	SELECT * FROM centertb
	  	WHERE businessno = #{businessno }
	  </select>
	  
	  <update id="update" parameterType="page.dto.Center">
	  	UPDATE centertb
	  	SET address1 = #{address1 },
	  		address2 = #{address2 },
	  		address3 = #{address3 },
	  		mphone = #{mphone },
	  		mgr = #{mgr },
	  		memail = #{memail }
	  	WHERE businessno = #{businessno }
	  </update>
	  
	  <delete id="delete" parameterType="page.dto.Center">
	  	DELETE centertb
	  	WHERE businessno = #{businessno }
	  </delete>
	  
	  <select id="selectCenternoByBusinessno" parameterType="page.dto.Center"
	   resultType="int">
	   	SELECT centerno FROM centertb
	   	WHERE businessno = #{businessno }
	   </select>
	   
	   <insert id="insertQuestion" parameterType="page.dto.CenterQuestion">
	   	INSERT INTO centerquestion (questionno, centerno, cquestion_title, cquestion_content, pic)
	   	VALUES (#{questionno }, #{centerno }, #{cquestion_title }, #{cquestion_content }, #{pic })
	   </insert>
	   
	   <select id="selectQuestionnoByDual" resultType="int">
	   	SELECT centerquestion_seq.nextval FROM dual 
	   </select>
	 
</mapper>